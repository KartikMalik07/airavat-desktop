<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Airavat Desktop - AI Processing</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1>üöÄ Airavat Desktop</h1>
                <p>AI-Powered Image Processing & Analysis</p>
                <div class="status-indicator" id="statusIndicator">
                    <span class="status-dot"></span>
                    <span class="status-text">Initializing...</span>
                </div>
            </div>
        </header>

        <!-- Loading Screen -->
        <div id="loadingScreen" class="loading-screen">
            <div class="loading-content">
                <div class="loading-spinner"></div>
                <h2 id="loadingTitle">Setting up Airavat...</h2>
                <p id="loadingMessage">Please wait while we prepare everything for you.</p>
                <div class="progress-bar" id="progressBar" style="display: none;">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-text" id="progressText"></div>
            </div>
        </div>

        <!-- Main App Content -->
        <main id="mainContent" class="main-content" style="display: none;">
            <!-- Upload Section -->
            <section class="upload-section">
                <div class="upload-area" id="uploadArea">
                    <div class="upload-icon">üìÅ</div>
                    <h3>Drop files here or click to select</h3>
                    <p>Supports: JPG, PNG, BMP, GIF, TIFF images and ZIP archives</p>
                    <div class="upload-buttons">
                        <button class="btn btn-primary" id="selectFilesBtn">Select Images</button>
                        <button class="btn btn-secondary" id="selectZipBtn">Select ZIP</button>
                    </div>
                </div>
            </section>

            <!-- Processing Options -->
            <section class="options-section">
                <h3>Processing Options</h3>
                <div class="options-grid">
                    <div class="option-card">
                        <input type="radio" id="yoloDetection" name="processingType" value="yolo" checked>
                        <label for="yoloDetection">
                            <strong>üéØ YOLO Object Detection</strong>
                            <span>Detect and classify objects in images</span>
                        </label>
                    </div>
                    <div class="option-card">
                        <input type="radio" id="datasetCompare" name="processingType" value="compare-dataset">
                        <label for="datasetCompare">
                            <strong>üîç Dataset Comparison</strong>
                            <span>Compare images against reference dataset</span>
                        </label>
                    </div>
                    <div class="option-card">
                        <input type="radio" id="combinedProcessing" name="processingType" value="combined">
                        <label for="combinedProcessing">
                            <strong>‚ö° Combined Processing</strong>
                            <span>Both object detection and dataset comparison</span>
                        </label>
                    </div>
                </div>

                <!-- Advanced Options -->
                <details class="advanced-options">
                    <summary>Advanced Settings</summary>
                    <div class="settings-grid">
                        <div class="setting-item">
                            <label for="confidenceThreshold">Confidence Threshold:</label>
                            <input type="range" id="confidenceThreshold" min="0.1" max="1.0" step="0.1" value="0.5">
                            <span id="confidenceValue">0.5</span>
                        </div>
                        <div class="setting-item">
                            <label for="siameseThreshold">Similarity Threshold:</label>
                            <input type="range" id="siameseThreshold" min="0.1" max="1.0" step="0.05" value="0.85">
                            <span id="siameseValue">0.85</span>
                        </div>
                        <div class="setting-item">
                            <label for="maxWorkers">Max Workers:</label>
                            <select id="maxWorkers">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="4" selected>4</option>
                                <option value="8">8</option>
                            </select>
                        </div>
                    </div>
                </details>
            </section>

            <!-- File List -->
            <section class="files-section">
                <div class="section-header">
                    <h3>Selected Files</h3>
                    <div class="file-actions">
                        <button class="btn btn-outline" id="clearFilesBtn">Clear All</button>
                        <button class="btn btn-success" id="processBtn" disabled>Process Files</button>
                    </div>
                </div>
                <div class="file-list" id="fileList">
                    <div class="empty-state">
                        <p>No files selected yet</p>
                        <small>Select images or a ZIP archive to get started</small>
                    </div>
                </div>
            </section>

            <!-- Results Section -->
            <section class="results-section" id="resultsSection" style="display: none;">
                <div class="section-header">
                    <h3>Processing Results</h3>
                    <div class="results-actions">
                        <button class="btn btn-outline" id="exportResultsBtn">Export Results</button>
                        <button class="btn btn-outline" id="clearResultsBtn">Clear Results</button>
                    </div>
                </div>
                <div class="results-container" id="resultsContainer">
                    <!-- Results will be populated here -->
                </div>
            </section>
        </main>

        <!-- Processing Modal -->
        <div id="processingModal" class="modal" style="display: none;">
            <div class="modal-content">
                <h3>Processing Files...</h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="batchProgressFill"></div>
                </div>
                <div class="progress-info">
                    <span id="batchProgressText">Starting...</span>
                    <span id="batchProgressPercent">0%</span>
                </div>
                <p id="currentFileText">Preparing files...</p>
                <div class="processing-stats">
                    <span id="processedCount">0</span> / <span id="totalCount">0</span> files processed
                </div>
            </div>
        </div>

        <!-- Error Modal -->
        <div id="errorModal" class="modal error-modal" style="display: none;">
            <div class="modal-content">
                <h3>‚ö†Ô∏è Error</h3>
                <p id="errorMessage">An error occurred</p>
                <div class="modal-actions">
                    <button class="btn btn-primary" id="closeErrorBtn">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
